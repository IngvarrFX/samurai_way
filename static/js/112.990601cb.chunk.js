"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[112],{9602:function(t,e,n){n.d(e,{II:function(){return f},gx:function(){return d},Gr:function(){return h}});var r=n(8489),o=n(3738),s=(n(2791),n(6139)),i={formControls:"FormControls_formControls__JFCnc",error:"FormControls_error__Zkh-E"},a=n(184),u=["input","meta"],l=["input","meta"],c=function(t){var e=t.meta,n=e.touched,r=e.error,o=t.children,s=n&&r;return(0,a.jsxs)("div",{className:i.formControl+" "+(s?i.error:""),children:[(0,a.jsx)("div",{children:o}),s&&(0,a.jsx)("span",{children:r})]})},d=function(t){var e=t.input,n=(t.meta,(0,o.Z)(t,u));return(0,a.jsx)(c,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)({},e),n))}))},f=function(t){var e=t.input,n=(t.meta,(0,o.Z)(t,l));return(0,a.jsx)(c,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)("input",(0,r.Z)((0,r.Z)({},e),n))}))};function h(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,(0,r.Z)({placeholder:t,name:e,validate:n,component:o},i))," ",u]})}},4112:function(t,e,n){n.r(e),n.d(e,{default:function(){return W}});var r,o=n(7853),s=n(4531),i=n(8932),a=n(2587),u=n(2791),l=n(97),c=n(364),d="Profile_profile__VHbzQ",f=n(3032),h=n(3430),p=n(4322),x=n.n(p),m={descriptionBlock:"ProfileInfo_descriptionBlock__XBXuJ",profilePhoto:"ProfileInfo_profilePhoto__GTuwT",contacts:"ProfileInfo_contacts__hKq1Z"},j=n(9749),v="ProfileStatus_status__dcr2q",P=n(184),b=function(t){var e=(0,u.useState)(!1),n=(0,h.Z)(e,2),r=n[0],o=n[1],s=(0,u.useState)(t.status),i=(0,h.Z)(s,2),a=i[0],l=i[1];return(0,u.useEffect)((function(){l(t.status)}),[t.status]),(0,P.jsx)("div",{className:v,children:r?(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Status"}),":",(0,P.jsx)("input",{autoFocus:!0,onChange:function(t){l(t.currentTarget.value)},onBlur:function(){o(!1),t.updateProfileStatus(a)},value:a})]}):(0,P.jsx)("div",{children:(0,P.jsxs)("div",{onDoubleClick:function(){o(!0)},children:[(0,P.jsx)("b",{children:"Status"}),": ",t.status||"Change your profile status"]})})})},g=function(t){return(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{className:m.contacts,children:t.contactTitle}),":",t.contactValue]})},k=n(9373);!function(t){t.vk="vk",t.github="github",t.facebook="facebook",t.twitter="twitter",t.instagram="instagram",t.mainLink="mainLink",t.website="website",t.youtube="youtube"}(r||(r={}));var _=function(t){return(0,P.jsxs)("div",{children:[t.isOwnPhoto&&(0,P.jsx)("div",{children:(0,P.jsx)(k.Z,{style:{margin:"5px"},variant:"contained",onClick:t.onEdit,children:"Edit"})}),(0,P.jsx)("span",{children:(0,P.jsx)("b",{children:"FullName: "})}),(0,P.jsxs)("span",{children:[t.profile.fullName," "]}),(0,P.jsx)("hr",{}),(0,P.jsxs)("span",{children:[(0,P.jsx)("b",{children:"Contacts: "})," ",Object.keys(t.profile.contacts).map((function(e){return(0,P.jsx)(g,{contactTitle:e,contactValue:t.profile.contacts[e]},e)}))]}),(0,P.jsx)("hr",{}),(0,P.jsx)("span",{children:(0,P.jsx)("b",{children:"Looking for a job: "})}),(0,P.jsx)("span",{children:t.profile.lookingForAJob?"Yes":"No"}),(0,P.jsx)("hr",{}),(0,P.jsx)("span",{children:(0,P.jsx)("b",{children:"My professional skills: "})}),(0,P.jsx)("div",{children:t.profile.lookingForAJobDescription}),(0,P.jsx)("hr",{}),(0,P.jsx)("span",{children:(0,P.jsx)("b",{children:"About me: "})}),(0,P.jsx)("div",{children:t.profile.aboutMe})]})},Z=n(6139),y=n(704),C=n(9602),w=n(3079),S=(0,w.B)(30),I=(0,w.B)(100),D=(0,y.Z)({form:"profileForm"})((function(t){var e;return function(t){t.vk="vk",t.github="github",t.facebook="facebook",t.twitter="twitter",t.instagram="instagram",t.mainLink="mainLink",t.website="website",t.youtube="youtube"}(e||(e={})),(0,P.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,P.jsx)("div",{children:(0,P.jsx)(Z.Z,{placeholder:"Full Name",component:C.II,name:"fullName",type:"text",validate:[w.C,S]})}),(0,P.jsx)("div",{children:(0,P.jsx)(Z.Z,{placeholder:"My professional skills ",component:C.gx,name:"lookingForAJobDescription",type:"text",validate:[w.C,I]})}),(0,P.jsx)("div",{children:(0,P.jsx)(Z.Z,{placeholder:"About me ",component:C.gx,name:"aboutMe",type:"text",validate:[w.C,I]})}),(0,P.jsxs)("div",{children:[(0,P.jsx)(Z.Z,{component:"input",name:"lookingForAJob",type:"checkbox"})," Looking for a job"]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.profile.contacts).map((function(t){return(0,P.jsx)("div",{children:(0,P.jsxs)("b",{children:[t,": ",(0,C.Gr)(t,"contacts."+t,[],C.II)]})},t)}))]}),t.error&&(0,P.jsx)("div",{children:(0,P.jsx)("strong",{children:t.error})}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{children:"Save"})})]})})),F=D,N=function(t){var e=(0,u.useState)(!1),n=(0,h.Z)(e,2),r=n[0],o=n[1],s=function(){var e=(0,f.Z)(x().mark((function e(n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateProfileData(n);case 2:o(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=(0,u.useCallback)((function(e){e.target.files&&e.target.files.length&&t.savePhoto(e.target.files[0])}),[t.savePhoto]);return(0,P.jsx)("div",{className:m.mainBlock,children:(0,P.jsxs)("div",{className:m.descriptionBlock,children:[(0,P.jsxs)("span",{className:m.profilePhoto,children:[(0,P.jsx)("img",{src:t.profile.photos.large?t.profile.photos.large:j,alt:""}),t.isOwnPhoto&&(0,P.jsx)("input",{className:"customFileInput",type:"file",onChange:i})]}),(0,P.jsx)(b,{status:t.status,updateProfileStatus:t.updateProfileStatus}),r?(0,P.jsx)(F,{initialValues:t.profile,profile:t.profile,onSubmit:s}):(0,P.jsx)(_,{profile:t.profile,isOwnPhoto:t.isOwnPhoto,onEdit:function(){o(!0)}})]})})},B=n(5559),A="Post_item__Yu4oG",M=function(t){return(0,P.jsxs)("div",{className:A,children:[(0,P.jsx)("img",{src:"https://st2.depositphotos.com/1006318/5909/v/950/depositphotos_59095529-stock-illustration-profile-icon-male-avatar.jpg",alt:""}),t.message,(0,P.jsxs)("div",{children:[(0,P.jsx)("span",{children:"like "})," ",t.likeCounts]})]})},O="MyPosts_postsBlock__lB-pf",U="MyPosts_posts__GSiZ2",q=n(2381),E=(0,w.B)(20),J=(0,y.Z)({form:"form"})((function(t){return(0,P.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,P.jsx)("div",{children:(0,P.jsx)(Z.Z,{placeholder:"add new post",component:C.gx,name:"newPostBody",type:"text",validate:[w.C,E]})}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{children:"Send message"})})]})})),L=function(t){var e=(0,u.useCallback)((function(e,n){t.addPostFormHandler(e.newPostBody),n((0,q.mc)("form"))}),[t.addPostFormHandler]);return(0,P.jsx)("div",{children:(0,P.jsx)(J,{onSubmit:e})})},V=u.memo((function(t){var e=t.data.map((function(t){return(0,P.jsx)(M,{message:t.message,likeCounts:t.likesCount},t.id)}));return(0,P.jsx)("div",{className:O,children:(0,P.jsxs)("div",{children:[(0,P.jsx)("h3",{children:"My Posts"}),(0,P.jsx)("div",{children:(0,P.jsx)(L,{addPostFormHandler:function(e){t.addPost(e)}})}),(0,P.jsx)("div",{className:U,children:e})]})})})),G=(0,l.qC)((0,c.$j)((function(t){return{data:t.profilePage.postsData}}),(function(t){return{addPost:function(e){t((0,B.Wl)(e))}}})))(V),T=function(t){return(0,P.jsxs)("div",{className:d,children:[!!t.profile&&(0,P.jsx)(N,{savePhoto:t.savePhoto,isOwnPhoto:t.isOwnPhoto,profile:t.profile,status:t.status,updateProfileStatus:t.updateProfileStatus,updateProfileData:t.updateProfileData}),(0,P.jsx)(G,{})]})},z=n(9271),H=n(2932),$=function(t){(0,i.Z)(n,t);var e=(0,a.Z)(n);function n(t){return(0,o.Z)(this,n),e.call(this,t)}return(0,s.Z)(n,[{key:"refreshProfile",value:function(){var t=+this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),t?(this.props.getUserProfile(t),this.props.getProfileStatus(t)):console.error("ID should exists in URI params or in state ('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){t.match.params.userId!==this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(T,{profile:this.props.profile,status:this.props.status,isOwnPhoto:!this.props.match.params.userId,savePhoto:this.props.savePhoto,updateProfileData:this.props.updateProfileData,updateProfileStatus:this.props.updateProfileStatus})," "]})}}]),n}(u.Component),W=(0,l.qC)((0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userID:t.auth.userID,authorizedUserId:t.auth.userID}}),(function(t){return{getUserProfile:function(e){t((0,B.VB)(e))},getProfileStatus:function(e){t((0,B.Wg)(e))},updateProfileStatus:function(e){t((0,B.y9)(e))},savePhoto:function(e){t((0,B.eV)(e))},updateProfileData:function(e){return t((0,B.mB)(e))}}})),z.EN,H.D)($)},2932:function(t,e,n){n.d(e,{D:function(){return d}});var r=n(8489),o=n(3738),s=(n(2791),n(364)),i=n(9271),a=n(97),u=n(184),l=["isAuth"],c=function(t){return{isAuth:t.auth.isAuth}};function d(t){return(0,a.qC)((0,s.$j)(c))((function(e){var n=e.isAuth,s=(0,o.Z)(e,l);return n?(0,u.jsx)(t,(0,r.Z)({},s)):(0,u.jsx)(i.l_,{to:"/login"})}))}},3079:function(t,e,n){n.d(e,{C:function(){return r},B:function(){return o}});var r=function(t){return t?void 0:"Field is required"},o=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},9749:function(t,e,n){t.exports=n.p+"static/media/profile-picture.3c76c0c9711630b70948.png"}}]);
//# sourceMappingURL=112.990601cb.chunk.js.map